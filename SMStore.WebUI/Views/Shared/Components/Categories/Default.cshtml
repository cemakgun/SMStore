@model IEnumerable<Category>

@{
    var kategoriler = Model; // database de gitmeden veriler bi kere gelicek bu dataya sorgu vermiş olucaz.

    foreach (var kategori in kategoriler.Where(c => c.ParentId == 0))
    {
        <div class="dropdown">
            <a class="btn dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                @kategori.Name
            </a>

            <ul class="dropdown-menu">
                @foreach (var altKategori in kategoriler.Where(c => c.ParentId == kategori.Id))
                {
                    <li><a class="dropdown-item" href="/Categories/Index/@altKategori.Id">@altKategori.Name</a></li>
                }
            </ul>
        </div>
    }
}
